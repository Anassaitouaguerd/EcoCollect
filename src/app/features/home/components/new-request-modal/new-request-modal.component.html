<div class="modal-container">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title"><i class="fas fa-recycle me-2"></i>New Request</h5>
        <button type="button" class="btn-close" (click)="activeModal.dismiss()"></button>
      </div>
  
      <!-- Modal Body -->
      <div class="modal-body">
        <form [formGroup]="requestForm" (ngSubmit)="onSubmit($event)">
            <!-- Waste Type -->
            <div class="form-group">
              <label class="form-label"><i class="fas fa-trash me-2"></i>Waste Type</label>
                <div class="form-control-wrapper">
                    <select class="form-control" formControlName="type" required>
                        <option value="">Select a type</option> 
                        <option value="plastique">Plastic</option>
                        <option value="verre">Glass</option>
                        <option value="papier">Paper</option>
                        <option value="metal">Metal</option>
                    </select>
                </div>
              <div *ngIf="requestForm.get('type')?.touched && requestForm.get('type')?.errors" class="text-danger">
                Type is required
              </div>
            </div>
          
            <!-- Weight -->
            <div class="form-group">
              <label class="form-label"><i class="fas fa-weight-hanging me-2"></i>Weight (grams)</label>
              <input type="number" class="form-control" formControlName="weight" min="1000" required>
              <div *ngIf="requestForm.get('weight')?.touched && requestForm.get('weight')?.errors" class="text-danger">
                <span *ngIf="requestForm.get('weight')?.errors?.['required']">Weight is required</span>
                <span *ngIf="requestForm.get('weight')?.errors?.['min']">Weight must be at least 1000g</span>
              </div>
            </div>
          
            <!-- Date -->
            <div class="form-group">
              <label class="form-label"><i class="fas fa-calendar-alt me-2"></i>Date</label>
              <input type="date" class="form-control" formControlName="date" required>
              <div *ngIf="requestForm.get('date')?.touched && requestForm.get('date')?.errors" class="text-danger">
                Date is required
              </div>
            </div>
          
            <!-- Time Slot -->
            <div class="form-group">
              <label class="form-label"><i class="fas fa-clock me-2"></i>Time Slot</label>
              <select class="form-control" formControlName="timeSlot" required>
                <option value="">Select a time slot</option>  <!-- Add this empty option -->
                <option value="09:00-12:00">09:00 - 12:00</option>
                <option value="12:00-15:00">12:00 - 15:00</option>
                <option value="15:00-18:00">15:00 - 18:00</option>
              </select>
              <div *ngIf="requestForm.get('timeSlot')?.touched && requestForm.get('timeSlot')?.errors" class="text-danger">
                Time slot is required
              </div>
            </div>
          
            <!-- Debug info -->
            <div class="mt-3 text-muted">
              <small>Form Status: {{ requestForm.status }}</small><br>
              <small>Form Valid: {{ requestForm.valid }}</small><br>
              <small>Form Values: {{ requestForm.value | json }}</small>
            </div>
          
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary w-100 mt-3" [disabled]="!requestForm.valid">
              <i class="fas fa-paper-plane me-2"></i>Submit Request
            </button>
          </form>
      </div>
    </div>
  </div>