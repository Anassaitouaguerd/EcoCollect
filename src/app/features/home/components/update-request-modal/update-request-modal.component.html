<div class="modal-container">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title"><i class="fas fa-edit me-2"></i>Update Request</h5>
        <button type="button" class="btn-close" (click)="activeModal.dismiss()"></button>
      </div>
  
      <!-- Modal Body -->
      <div class="modal-body">
        <form [formGroup]="updateRequestForm" (ngSubmit)="onUpdateSubmit($event)">
          <!-- Waste Type -->
          <div class="form-group">
            <label class="form-label"><i class="fas fa-trash me-2"></i>Waste Type</label>
            <div class="form-control-wrapper">
              <select class="form-control" formControlName="type" required>
                <option value="">Select a type</option>
                <option value="plastique">Plastic</option>
                <option value="verre">Glass</option>
                <option value="papier">Paper</option>
                <option value="metal">Metal</option>
              </select>
            </div>
            <div *ngIf="updateRequestForm.get('type')?.touched && updateRequestForm.get('type')?.errors" class="text-danger">
              Type is required
            </div>
          </div>
  
          <!-- Weight -->
          <div class="form-group">
            <label class="form-label"><i class="fas fa-weight-hanging me-2"></i>Weight (grams)</label>
            <input type="number" class="form-control" formControlName="weight" min="1000" required>
            <div *ngIf="updateRequestForm.get('weight')?.touched && updateRequestForm.get('weight')?.errors" class="text-danger">
              <span *ngIf="updateRequestForm.get('weight')?.errors?.['required']">Weight is required</span>
              <span *ngIf="updateRequestForm.get('weight')?.errors?.['min']">Weight must be at least 1000g</span>
            </div>
          </div>
  
          <!-- Date -->
          <div class="form-group">
            <label class="form-label"><i class="fas fa-calendar-alt me-2"></i>Date</label>
            <input type="date" class="form-control" formControlName="date" required>
            <div *ngIf="updateRequestForm.get('date')?.touched && updateRequestForm.get('date')?.errors" class="text-danger">
              Date is required
            </div>
          </div>
  
          <!-- Time Slot -->
          <div class="form-group">
            <label class="form-label"><i class="fas fa-clock me-2"></i>Time Slot</label>
            <select class="form-control" formControlName="timeSlot" required>
              <option value="">Select a time slot</option>
              <option value="09:00-12:00">09:00 - 12:00</option>
              <option value="12:00-15:00">12:00 - 15:00</option>
              <option value="15:00-18:00">15:00 - 18:00</option>
            </select>
            <div *ngIf="updateRequestForm.get('timeSlot')?.touched && updateRequestForm.get('timeSlot')?.errors" class="text-danger">
              Time slot is required
            </div>
          </div>
  
          <!-- Debug info -->
          <div class="mt-3 text-muted">
            <small>Form Status: {{ updateRequestForm.status }}</small><br>
            <small>Form Valid: {{ updateRequestForm.valid }}</small><br>
            <small>Form Values: {{ updateRequestForm.value | json }}</small>
          </div>
  
          <!-- Save Changes Button -->
          <button type="submit" class="btn btn-success w-100 mt-3" [disabled]="!updateRequestForm.valid">
            <i class="fas fa-save me-2"></i>Save Changes
          </button>
        </form>
      </div>
    </div>
  </div>